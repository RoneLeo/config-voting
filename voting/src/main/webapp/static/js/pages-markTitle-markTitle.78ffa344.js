(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-markTitle-markTitle"],{"0590":function(t,i,e){var a=e("f7e0");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var s=e("4f06").default;s("c77865e2",a,!0,{sourceMap:!1,shadowMode:!1})},"2fcf":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0;var a={data:function(){return{loginFormShow:!1,hdid:null,obid:null,isBack:!1,rangeValues:[],scores:[],activity:{},obj:{},curTime:"",strTime:"",endTime:""}},mounted:function(){},onLoad:function(t){this.hdid=t.hdid,this.obid=t.obid,this.user=this.getGlobalUser()||{},getCurrentPages().length>1&&(this.isBack=!0),this.getLogined()||(this.loginFormShow=!0)},onShow:function(){this.user=this.getGlobalUser()||{},this.getLogined()&&this.hdid&&this.obid&&this.getData()},methods:{loginHide:function(){this.loginFormShow=!1,this.getLogined()&&this.hdid&&this.obid&&this.getData()},getData:function(){var t=this;this.$api.post("/theme/findAllInfoById",{id:this.hdid}).then(function(i){200==i.resCode?(t.activity=i.data,t.curTime=(new Date).getTime(),t.strTime=new Date(Date.parse(t.activity.kssj.replace(/-/g,"/"))).getTime(),t.endTime=new Date(Date.parse(t.activity.jssj.replace(/-/g,"/"))).getTime(),t.activity.scorelist.forEach(function(i){i.id!=t.obid||(t.obj=i)}),t.data=t.activity.scoreoblist,t.rangeValues=[],t.scores=[],t.data.forEach(function(i){t.rangeValues.push([i.zdf,i.zgf]),i.val=i.zgf,t.scores.push(i.zgf)})):100==i.resCode&&(t.loginFormShow=!0)})},saveRes:function(){var t=this;console.log(this.data);var i=this.data.map(function(i){return{df:i.val,oid:i.id,qid:t.obid,pid:t.user.id}});this.$api.post("/score/score",JSON.stringify(i)).then(function(i){200==i.resCode?(uni.showToast({title:"保存成功！",icon:"none"}),uni.navigateBack()):100==i.resCode&&(t.loginFormShow=!0)}),console.log(i)},onRangeChange:function(t){this.scores=this.data.map(function(t){return t.val})},gotoMarkTitle:function(){uni.navigateTo({url:"../../pages/markTitle/markTitle"})}}};i.default=a},6783:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"page"},[e("login",{attrs:{loginFormShow:t.loginFormShow},on:{hide:function(i){i=t.$handleEvent(i),t.loginHide(i)}}}),e("cu-custom",{directives:[{name:"show",rawName:"v-show",value:t.isBack,expression:"isBack"}],attrs:{bgColor:"bg-blue",isBack:t.isBack}},[e("template",{staticStyle:{width:"calc(100% - 100px)"},attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.activity&&t.activity.bt))])],2),e("v-uni-view",{staticClass:"vote-wrapper padding"},[e("v-uni-view",{staticClass:"vote-tt title",staticStyle:{"font-size":"18px"}},[t._v(t._s(t.activity&&t.activity.bt))]),e("v-uni-view",{staticClass:"vote-tt",staticStyle:{"margin-top":"40upx"}},[t._v("考评对象："),e("v-uni-text",{staticClass:"vote-subtt"},[t._v(t._s(t.obj.dx))])],1),e("v-uni-view",{staticClass:"vote-tt"},[t._v("活动状态："),e("v-uni-text",{staticClass:"vote-subtt"},[t._v(t._s("0"==t.activity.sffb?"尚未发布":"1"==t.activity.sffb?"已发布":"活动已结束"))])],1),e("v-uni-view",{staticClass:"vote-tt"},[t._v("活动期限："),e("v-uni-text",{staticClass:"vote-subtt"},[t._v(t._s(t.activity.kssj&&t.activity.kssj.substring(0,11))+" 至 "+t._s(t.activity.kssj&&t.activity.kssj.substring(0,11)))])],1),e("v-uni-view",{staticClass:"vote-tt"},[t._v("活动说明："),e("v-uni-text",{staticClass:"vote-subtt"},[t._v(t._s(t.activity.nr))])],1),e("v-uni-view",{staticClass:"padding",staticStyle:{"margin-top":"40upx"}},[e("v-uni-view",{staticClass:"mark-item"},[e("v-uni-text",{staticClass:"mark-name"},[t._v("考评内容")]),e("v-uni-text",{staticClass:"mark-status"},[t._v("打分区间")]),e("v-uni-text",{staticClass:"mark-input"},[t._v("打分")])],1),t._l(t.activity.scoreoblist,function(i,a){return e("v-uni-view",{key:a,staticClass:"mark-item"},[e("v-uni-text",{staticClass:"mark-name"},[t._v(t._s(i.mc))]),e("v-uni-view",{staticClass:"mark-status"},[e("v-uni-text",{staticClass:"mark-num"},[t._v(t._s(i.zdf))]),e("v-uni-view",{staticClass:"mark-range"},[e("Range",{attrs:{min:t.rangeValues[a][0],width:180,max:t.rangeValues[a][1],"data-index":a},on:{rangechange:function(i){i=t.$handleEvent(i),t.onRangeChange(i)}},model:{value:i.val,callback:function(e){t.$set(i,"val",e)},expression:"item.val"}})],1),e("v-uni-text",{staticClass:"mark-num"},[t._v(t._s(i.zgf))])],1),e("v-uni-text",{staticClass:"mark-input"},[t._v(t._s(t.scores[a]))])],1)})],2),e("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"1"==t.activity.sffb&&t.curTime>t.strTime&&t.curTime<t.endTime,expression:"activity.sffb=='1' && curTime > strTime && curTime < endTime"}],staticStyle:{"margin-top":"50upx","text-align":"center"}},[e("v-uni-button",{staticClass:"cu-btn bg-blue shadow-blur",on:{click:function(i){i=t.$handleEvent(i),t.saveRes(i)}}},[t._v("保存打分结果")])],1)],1)],1)},s=[];e.d(i,"a",function(){return a}),e.d(i,"b",function(){return s})},"709b":function(t,i,e){"use strict";e.r(i);var a=e("6783"),s=e("926f");for(var n in s)"default"!==n&&function(t){e.d(i,t,function(){return s[t]})}(n);e("affb");var r=e("2877"),o=Object(r["a"])(s["default"],a["a"],a["b"],!1,null,"d4068de4",null);i["default"]=o.exports},"926f":function(t,i,e){"use strict";e.r(i);var a=e("2fcf"),s=e.n(a);for(var n in a)"default"!==n&&function(t){e.d(i,t,function(){return a[t]})}(n);i["default"]=s.a},affb:function(t,i,e){"use strict";var a=e("0590"),s=e.n(a);s.a},f7e0:function(t,i,e){i=t.exports=e("2350")(!1),i.push([t.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.vote-wrapper[data-v-d4068de4]{padding:20px %?30?%}.vote-wrapper .vote-tt[data-v-d4068de4]{font-size:14px;color:#333;line-height:2}.vote-wrapper .vote-tt .vote-subtt[data-v-d4068de4]{color:#666}.mark-item[data-v-d4068de4]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;margin-bottom:%?20?%;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.mark-item .mark-input[data-v-d4068de4],.mark-item .mark-name[data-v-d4068de4],.mark-item .mark-status[data-v-d4068de4]{text-align:center}.mark-item .mark-name[data-v-d4068de4]{width:%?230?%}.mark-item .mark-status[data-v-d4068de4]{width:%?320?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center}.mark-item .mark-status .mark-num[data-v-d4068de4]{width:%?50?%}.mark-item .mark-status .mark-range[data-v-d4068de4]{width:%?180?%}.mark-item .mark-input[data-v-d4068de4]{width:%?130?%}',""])}}]);